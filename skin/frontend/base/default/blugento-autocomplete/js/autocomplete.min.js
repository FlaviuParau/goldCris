!(function () {
    var t = function (e, i) {
        var r = this;
        (t.count = (t.count || 0) + 1),
            (this.count = t.count),
            (this.isOpened = !1),
            (this.input = n(e)),
            this.input.setAttribute("autocomplete", "no"),
            this.input.setAttribute("aria-expanded", "false"),
            this.input.setAttribute("aria-owns", "awesomplete_list_" + this.count),
            this.input.setAttribute("role", "combobox"),
            (this.options = i = i || {}),
            (function (t, e, i) {
                for (var n in e) {
                    var r = e[n],
                        l = t.input.getAttribute("data-" + n.toLowerCase());
                    "number" == typeof r ? (t[n] = parseInt(l)) : !1 === r ? (t[n] = null !== l) : r instanceof Function ? (t[n] = null) : (t[n] = l), t[n] || 0 === t[n] || (t[n] = n in i ? i[n] : r);
                }
            })(this, { minChars: 3, maxItems: 1e3, autoFirst: !0, data: t.DATA, filter: t.FILTER_CONTAINS, sort: !1 === i.sort, container: t.CONTAINER, item: t.ITEM, replace: t.REPLACE, tabSelect: !1 }, i),
            (this.index = -1),
            (this.container = this.container(e)),
            (this.ul = n.create("ul", { hidden: "hidden", role: "listbox", id: "awesomplete_list_" + this.count, inside: this.container })),
            (this.status = n.create("span", {
                className: "visually-hidden",
                role: "status",
                "aria-live": "assertive",
                "aria-atomic": !0,
                inside: this.container,
                textContent: 0 != this.minChars ? Translator.translate("Write") + " " + this.minChars + " " + Translator.translate("or more characters for results.") : Translator.translate("Begin typing for results."),
            })),
            (this._events = {
                input: {
                    input: this.evaluate.bind(this),
                    blur: this.close.bind(this, { reason: "blur" }),
                    keydown: function (t) {
                        var e = t.keyCode;
                        r.opened &&
                            (13 === e && r.selected
                                ? (t.preventDefault(),
                                  r.select(void 0, void 0, t),
                                  jQuery("#co-billing-form").is(":visible")
                                      ? (jQuery("body").removeClass("disable-button"),
                                        (jQuery("#co-billing-form .region input").value = regionValue),
                                        jQuery("#co-billing-form .region_id select").val(dataId),
                                        jQuery("#co-billing-form .city input").val(cityValue),
                                        jQuery("#co-billing-form .zip-code input").val(dataZipcode))
                                      : jQuery("#co-shipping-form").is(":visible") &&
                                        (jQuery("body").removeClass("disable-button"),
                                        (jQuery("#co-shipping-form .region input").value = regionValue),
                                        Shipping,
                                        jQuery("#co-shipping-form .region_id select").val(dataIdShipping),
                                        jQuery("#co-shipping-form .city input").val(cityValueShipping),
                                        jQuery("#co-shipping-form .zip-code input").val(dataZipcodeShipping)))
                                : 9 === e && r.selected && r.tabSelect
                                ? (r.select(void 0, void 0, t),
                                    jQuery("#co-billing-form").is(":visible")
                                        ? (jQuery("body").removeClass("disable-button"),
                                            (jQuery("#co-billing-form .region input").value = regionValue),
                                            jQuery("#co-billing-form .region_id select").val(dataId),
                                            jQuery("#co-billing-form .city input").val(cityValue),
                                            jQuery("#co-billing-form .zip-code input").val(dataZipcode))
                                        : jQuery("#co-shipping-form").is(":visible") &&
                                            (jQuery("body").removeClass("disable-button"),
                                            (jQuery("#co-shipping-form .region input").value = regionValue),
                                            Shipping,
                                            jQuery("#co-shipping-form .region_id select").val(dataIdShipping),
                                            jQuery("#co-shipping-form .city input").val(cityValueShipping),
                                            jQuery("#co-shipping-form .zip-code input").val(dataZipcodeShipping)))
                                : 27 === e
                                ? r.close({ reason: "esc" })
                                : (38 !== e && 40 !== e) || (t.preventDefault(), r[38 === e ? "previous" : "next"]()));
                    },
                },
                form: { submit: this.close.bind(this, { reason: "submit" }) },
                ul: {
                    mousedown: function (t) {
                        t.preventDefault();
                    },
                    click: function (t) {
                        var e = t.target;
                        if (e !== this) {
                            for (; e && !/li/i.test(e.nodeName); ) e = e.parentNode;
                            e && 0 === t.button && (t.preventDefault(), r.select(e, t.target, t));
                        }
                    },
                },
            }),
            n.bind(this.input, this._events.input),
            n.bind(this.input.form, this._events.form),
            n.bind(this.ul, this._events.ul),
            this.input.hasAttribute("list") ? ((this.list = "#" + this.input.getAttribute("list")), this.input.removeAttribute("list")) : (this.list = this.input.getAttribute("data-list") || i.list || []),
            t.all.push(this);
    };
    function e(t) {
        var e = Array.isArray(t) ? { label: t[0], value: t[1] } : "object" == typeof t && "label" in t && "value" in t ? t : { label: t, value: t };
        (this.label = e.label || e.value), (this.value = e.value);
    }
    (t.prototype = {
        set list(t) {
            if (Array.isArray(t)) this._list = t;
            else if ("string" == typeof t && t.indexOf(",") > -1) this._list = t.split(/\s*,\s*/);
            else if ((t = n(t)) && t.children) {
                var e = [];
                i.apply(t.children).forEach(function (t) {
                    if (!t.disabled) {
                        var i = t.textContent.trim(),
                            n = t.value || i,
                            r = t.label || i;
                        "" !== n && e.push({ label: r, value: n });
                    }
                }),
                    (this._list = e);
            }
            document.activeElement === this.input && this.evaluate();
        },
        get selected() {
            return this.index > -1;
        },
        get opened() {
            return this.isOpened;
        },
        close: function (t) {
            this.opened &&
                (this.input.setAttribute("aria-expanded", "false"), this.ul.setAttribute("hidden", ""), (this.isOpened = !1), (this.index = -1), this.status.setAttribute("hidden", ""), n.fire(this.input, "awesomplete-close", t || {}));
        },
        open: function () {
            this.input.setAttribute("aria-expanded", "true"),
                this.ul.removeAttribute("hidden"),
                (this.isOpened = !0),
                this.status.removeAttribute("hidden"),
                this.autoFirst && -1 === this.index && this.goto(0),
                n.fire(this.input, "awesomplete-open");
        },
        destroy: function () {
            if ((n.unbind(this.input, this._events.input), n.unbind(this.input.form, this._events.form), !this.options.container)) {
                var e = this.container.parentNode;
                e.insertBefore(this.input, this.container), e.removeChild(this.container);
            }
            this.input.removeAttribute("autocomplete"), this.input.removeAttribute("aria-autocomplete");
            var i = t.all.indexOf(this);
            -1 !== i && t.all.splice(i, 1);
        },
        next: function () {
            var t = this.ul.children.length;
            this.goto(this.index < t - 1 ? this.index + 1 : t ? 0 : -1);
        },
        previous: function () {
            var t = this.ul.children.length,
                e = this.index - 1;
            this.goto(this.selected && -1 !== e ? e : t - 1);
        },
        goto: function (t) {
            var e = this.ul.children;
            this.selected && e[this.index].setAttribute("aria-selected", "false"),
                (this.index = t),
                t > -1 &&
                    e.length > 0 &&
                    (e[t].setAttribute("aria-selected", "true"),
                    (this.status.textContent = e[t].textContent + ", list item " + (t + 1) + " of " + e.length),
                    this.input.setAttribute("aria-activedescendant", this.ul.id + "_item_" + this.index),
                    (this.ul.scrollTop = e[t].offsetTop - this.ul.clientHeight + e[t].clientHeight),
                    n.fire(this.input, "awesomplete-highlight", { text: this.suggestions[this.index] }));
        },
        select: function (t, e, i) {
            if ((t ? (this.index = n.siblingIndex(t)) : (t = this.ul.children[this.index]), t)) {
                var r = this.suggestions[this.index];
                n.fire(this.input, "awesomplete-select", { text: r, origin: e || t, originalEvent: i }) && (this.replace(r), this.close({ reason: "select" }), n.fire(this.input, "awesomplete-selectcomplete", { text: r, originalEvent: i }));
            }
        },
        evaluate: function () {
            var t = this,
                i = this.input.value;

            if (i.length >= this.minChars) {
                this._list && this._list.length > 0
                ? ((this.index = -1),
                    (this.ul.innerHTML = ""),
                    (this.suggestions = this._list
                        .map(function (n) {
                            return new e(t.data(n, i));
                        })
                        .filter(function (e) {
                            return t.filter(e, i);
                        })),
                    !1 !== this.sort && (this.suggestions = this.suggestions.sort(this.sort)),
                    (this.suggestions = this.suggestions.slice(0, this.maxItems)),
                    this.suggestions.forEach(function (e, n) {
                        t.ul.appendChild(t.item(e, i, n));
                    }),
                    0 === this.ul.children.length
                        ? t.input.classList.contains('sameday') ? ((this.status.textContent = Translator.translate("No matches easybox")), this.close({ reason: "nomatches" })) : ((this.status.textContent = Translator.translate("No matches")), this.close({ reason: "nomatches" }))
                        : (this.open(), (this.status.textContent = Translator.translate("Please complete this field and select one of the values ​​below."))))
                : (this.close({ reason: "nomatches" }), (this.status.textContent = Translator.translate("No results found")));
            } else {
                this.status.textContent = 0 != this.minChars ? Translator.translate("Write") + " " + this.minChars + " " + Translator.translate("or more characters for results.") : Translator.translate("Begin typing for results.");
            }
        },
    }),
        (t.all = []),
        (t.FILTER_CONTAINS = function (t, e) {
            return RegExp(n.regExpEscape(e.trim()), "i").test(t);
        }),
        (t.FILTER_STARTSWITH = function (t, e) {
            return RegExp("^" + n.regExpEscape(e.trim()), "i").test(t);
        }),
        (t.SORT_BYLENGTH = function (t, e) {
            return t.length !== e.length ? t.length - e.length : t < e ? -1 : 1;
        }),
        (t.CONTAINER = function (t) {
            return n.create("div", { className: "awesomplete", around: t });
        }),
        (t.ITEM = function (t, e, i) {
            var r = "" === e.trim() ? t : t.replace(RegExp(n.regExpEscape(e.trim()), "gi"), "<mark>$&</mark>");
            return n.create("li", { innerHTML: r, role: "option", "aria-selected": "false", id: "awesomplete_list_" + this.count + "_item_" + i });
        }),
        (t.REPLACE = function (t) {
            this.input.value = t.value;
        }),
        (t.DATA = function (t) {
            return t;
        }),
        Object.defineProperty((e.prototype = Object.create(String.prototype)), "length", {
            get: function () {
                return this.label.length;
            },
        }),
        (e.prototype.toString = e.prototype.valueOf = function () {
            return "" + this.label;
        });
    var i = Array.prototype.slice;
    function n(t, e) {
        return "string" == typeof t ? (e || document).querySelector(t) : t || null;
    }
    function r(t, e) {
        return i.call((e || document).querySelectorAll(t));
    }
    function l() {
        r("input.awesomplete").forEach(function (e) {
            new t(e);
        });
    }
    (n.create = function (t, e) {
        var i = document.createElement(t);
        for (var r in e) {
            var l = e[r];
            if ("inside" === r) n(l).appendChild(i);
            else if ("around" === r) {
                var s = n(l);
                s.parentNode.insertBefore(i, s), i.appendChild(s), null != s.getAttribute("autofocus") && s.focus();
            } else r in i ? (i[r] = l) : i.setAttribute(r, l);
        }
        return i;
    }),
        (n.bind = function (t, e) {
            if (t)
                for (var i in e) {
                    var n = e[i];
                    i.split(/\s+/).forEach(function (e) {
                        t.addEventListener(e, n);
                    });
                }
        }),
        (n.unbind = function (t, e) {
            if (t)
                for (var i in e) {
                    var n = e[i];
                    i.split(/\s+/).forEach(function (e) {
                        t.removeEventListener(e, n);
                    });
                }
        }),
        (n.fire = function (t, e, i) {
            var n = document.createEvent("HTMLEvents");
            for (var r in (n.initEvent(e, !0, !0), i)) n[r] = i[r];
            return t.dispatchEvent(n);
        }),
        (n.regExpEscape = function (t) {
            return t.replace(/[-\\^$*+?.()|[\]{}]/g, "\\$&");
        }),
        (n.siblingIndex = function (t) {
            for (var e = 0; (t = t.previousElementSibling); e++);
            return e;
        }),
        "undefined" != typeof self && (self.Awesomplete = t),
        "undefined" != typeof Document && ("loading" !== document.readyState ? l() : document.addEventListener("DOMContentLoaded", l)),
        (t.$ = n),
        (t.$$ = r),
        "object" == typeof module && module.exports && (module.exports = t);
})();
var AwesompleteUtil = (function () {
    function t(t) {
        var e = Array.isArray(t) ? { label: t[0], value: t[1] } : "object" == typeof t && "label" in t && "value" in t ? t : { label: t, value: t };
        return { label: e.label || e.value, value: e.value };
    }
    function e(t, e, i) {
        return y.fire(t, e, { detail: i });
    }
    function i(i, n) {
        var r,
            l,
            s,
            a,
            o = i.input,
            u = o.classList,
            p = i.utilprops,
            c = p.selected,
            h = p.convertInput.call(i, o.value),
            d = i.opened,
            m = [],
            y = i._list;
        if (((p.prepop = !1), y)) {
            for (a = 0; a < y.length; a++)
                if (
                    ((s = y[a]),
                    (r = t(i.data(s, h))),
                    0 === i.maxItems &&
                        ((r.toString = function () {
                            return "" + this.label;
                        }),
                        i.filter(r, h) && (d = !0)),
                    (l = { input: { value: "" } }),
                    i.replace.call(l, r),
                    p.convertInput.call(i, l.input.value) === h)
                ) {
                    if (c && c.value === r.value && c.label === r.label) {
                        m = [s];
                        break;
                    }
                    m.push(s);
                }
            p.prevSelected !== m &&
                (m.length > 0
                    ? n
                        ? e(o, f, m)
                        : p.changed && ((p.prevSelected = m), u.remove(g), u.add(b), e(o, v, m))
                    : n
                    ? e(o, f, [])
                    : p.changed && ((p.prevSelected = []), u.remove(b), d && o === document.activeElement ? u.remove(g) : h.length > 0 && (u.add(g), e(o, v, []))));
        }
    }
    function n(t) {
        var e = this;
        (t.type !== d && t.type !== h && "blur" != t.type) || t.target !== e.input || i(e, e.utilprops.prepop && t.type === h);
    }
    function r(t, e, i) {
        var n = t.utilprops;
        return !n.a || (!n.loadall && 0 === e.lastIndexOf(i, 0) && (0 !== e.lastIndexOf(n.a, 0) || ("number" == typeof n.limit && t._list.length >= n.limit)));
    }
    function l(t, i, n) {
        (t.list = i), (t.utilprops.a = n), e(t.input, h, n);
    }
    function s(t, e) {
        var n;
        t.utilprops.url && r(t, e, e)
            ? ((n = new XMLHttpRequest()),
              t.utilprops.ajax.call(
                  t,
                  t.utilprops.url,
                  t.utilprops.urlEnd,
                  t.utilprops.loadall ? "" : e,
                  function () {
                      var t,
                          e,
                          i = this,
                          n = i.b,
                          s = i.c,
                          a = i.queryVal,
                          o = n.utilprops.val;
                      if (200 === s.status) {
                          if (((t = JSON.parse(s.responseText)), n.utilprops.convertResponse && (t = n.utilprops.convertResponse(t)), !Array.isArray(t)))
                              if (0 === n.utilprops.limit || 1 === n.utilprops.limit)
                                  t = (function (t) {
                                      return 0 === Object.keys(t).length && t.constructor === Object;
                                  })(t)
                                      ? []
                                      : [t];
                              else
                                  for (e in t)
                                      if (Array.isArray(t[e])) {
                                          t = t[e];
                                          break;
                                      }
                          Array.isArray(t) && r(n, o, a) && l(n, t, a || n.utilprops.loadall);
                      }
                  }.bind({ b: t, c: n, queryVal: e }),
                  n
              ))
            : i(t, t.utilprops.prepop);
    }
    function a(t) {
        var i = t.input,
            n = i.classList;
        n.remove(g), n.remove(b), e(i, v, []);
    }
    function o(t, e, i) {
        return (
            (t.utilprops.prepop = i || !1), t.utilprops.val !== e && ((t.utilprops.selected = null), (t.utilprops.changed = !0), (t.utilprops.val = e), (e.length < t.minChars || 0 == e.length) && a(t), e.length >= t.minChars && s(t, e)), t
        );
    }
    function u(t) {
        return y.create("li", { innerHTML: t, "aria-selected": "false" });
    }
    function p(t, e, i) {
        var n = y.regExpEscape(e.replace("&", "&amp;").replace("<", "&lt;").replace(">", "&gt;").trim()),
            r = n.length <= 0 ? null : i ? RegExp("^" + n, "i") : RegExp("(?!<[^>]+?>)" + n + "(?![^<]*?>)", "gi");
        return t.replace(r, "<mark>$&</mark>");
    }
    var c = "awesomplete-",
        h = c + "loadcomplete",
        d = c + "close",
        v = c + "match",
        f = c + "prepop",
        m = c + "select",
        b = "awe-found",
        g = "awe-not-found",
        y = Awesomplete.$;
    return {
        ajax: function (t, e, i, n, r) {
            return (r = r || new XMLHttpRequest()).open("GET", t + encodeURIComponent(i) + (e || "")), (r.onload = n), r.send(), r;
        },
        convertInput: function (t) {
            return "string" == typeof t ? t.trim().toLowerCase() : "";
        },
        item: u,
        load: l,
        mark: p,
        itemContains: function (t, e) {
            var i;
            return e.trim().length > 0 && (((i = ("" + t).split(/<p>/))[0] = p(i[0], e)), (t = i.join("<p>"))), u(t);
        },
        itemMarkAll: function (t, e) {
            return u("" === e.trim() ? "" + t : p("" + t, e));
        },
        itemStartsWith: function (t, e) {
            return u("" === e.trim() ? "" + t : p("" + t, e, !0));
        },
        create: function (t, e, i) {
            i.item = i.item || this.itemContains;
            var n = new Awesomplete(t, i);
            return (
                (n.utilprops = e || {}),
                n.utilprops.url || void 0 !== n.utilprops.loadall || (n.utilprops.loadall = !0),
                (n.utilprops.ajax = n.utilprops.ajax || this.ajax),
                (n.utilprops.convertInput = n.utilprops.convertInput || this.convertInput),
                n
            );
        },
        attach: function (t) {
            var e = t.input,
                i = n.bind(t),
                r = function (t) {
                    t.target === this.input && 9 === t.keyCode && this.select();
                }.bind(t),
                l = function (t) {
                    var e,
                        i = this;
                    t.target === i.input && ((e = i.utilprops.convertInput.call(i, i.input.value)), o(i, e));
                }.bind(t),
                a = function (t) {
                    (this.utilprops.changed = !0), (this.utilprops.selected = t.text);
                }.bind(t),
                u = function () {
                    var t = this,
                        e = t.b.input,
                        i = t.h,
                        n = t.i,
                        r = t.j,
                        l = t.k;
                    e.removeEventListener(m, l), e.removeEventListener(h, i), e.removeEventListener(d, i), e.removeEventListener("blur", i), e.removeEventListener("input", n), e.removeEventListener("keydown", r);
                }.bind({ b: t, h: i, i: l, j: r, k: a }),
                p = { keydown: r, input: l };
            return (
                (p.blur = p[d] = p[h] = i),
                (p[m] = a),
                y.bind(e, p),
                (t.utilprops.detach = u),
                t.utilprops.prepop && (t.utilprops.loadall || e.value.length > 0) && ((t.utilprops.val = t.utilprops.convertInput.call(t, e.value)), s(t, t.utilprops.val)),
                t
            );
        },
        update: function (t, e, i) {
            return (t.input.value = e), o(t, e, i);
        },
        start: function (t, e, i) {
            return this.attach(this.create(t, e, i));
        },
        detach: function (t) {
            return t.utilprops.detach && (t.utilprops.detach(), delete t.utilprops.detach), t;
        },
        createCopyFun: function (t, e, i) {
            return function (t) {
                var e,
                    i,
                    n = this,
                    r = n.d,
                    l = n.e,
                    s = n.f;
                t.target === y(r) &&
                    ("function" == typeof s
                        ? s(t, l)
                        : (e = y(s)) &&
                          e !== document.activeElement &&
                          ((i = Array.isArray(t.detail) && 1 === t.detail.length ? t.detail[0] : null),
                          (i = (l && i ? i[l] : i) || ""),
                          void 0 !== e.value ? ((e.value = i), e.classList && e.classList.remove && e.classList.remove(g)) : void 0 !== e.src ? (e.src = i) : (e.innerHTML = i)));
            }.bind({ d: t, e: e, f: y(i) || i });
        },
        attachCopyFun: function (t, e, i) {
            return (e = "boolean" != typeof e || e), (i = i || document.body).addEventListener(v, t), e && i.addEventListener(f, t), t;
        },
        startCopy: function (t, e, i, n) {
            var r = y(t);
            return this.attachCopyFun(this.createCopyFun(r || t, e, i), n, r);
        },
        detachCopyFun: function (t, e) {
            return (e = e || document.body).removeEventListener(f, t), e.removeEventListener(v, t), t;
        },
        createClickFun: function (t, e) {
            return function (t) {
                var e, i;
                t.target === y(this.g) && (t.preventDefault(), 0 === (e = this.b).ul.childNodes.length || e.ul.hasAttribute("hidden") ? ((i = e.minChars), (e.minChars = 0), e.evaluate(), (e.minChars = i)) : e.close());
            }.bind({ g: t, b: e });
        },
        attachClickFun: function (t, e) {
            return (e = e || document.body).addEventListener("click", t), t;
        },
        startClick: function (t, e) {
            var i = y(t);
            return this.attachClickFun(this.createClickFun(i || t, e), i);
        },
        detachClickFun: function (t, e) {
            return (e = e || document.body).removeEventListener("click", t), t;
        },
        filterContains: function (t, e) {
            return Awesomplete.FILTER_CONTAINS(t.value, e);
        },
        filterStartsWith: function (t, e) {
            return Awesomplete.FILTER_STARTSWITH(t.value, e);
        },
        jsonFlatten: function (t) {
            return (function t(e, i, n, r, l) {
                var s,
                    a = l.root,
                    o = l.value,
                    u = l.label || l.value,
                    p = !0,
                    c = [];
                if (0 === r && a && n && 0 !== (n + ".").lastIndexOf(a + ".", 0) && 0 !== (a + ".").lastIndexOf(n + ".", 0)) return e;
                if (Object(i) !== i) n ? (e[n] = i) : (e = i);
                else if (Array.isArray(i)) {
                    for (s = 0; s < i.length; s++) c.push(t({}, i[s], "", r + 1, l));
                    n ? (e[n] = c) : (e = c);
                } else {
                    for (s in i) (p = !1), t(e, i[s], n ? n + "." + s : s, r, l);
                    p && n && (e[n] = {});
                }
                return (
                    r < 2 && n && (o && 0 === (n + ".").lastIndexOf(o + ".", 0) && (e.value = e[n]), u && 0 === (n + ".").lastIndexOf(u + ".", 0) && (e.label = e[n])),
                    0 === r && (!o || "value" in e || (e.value = null), !u || "label" in e || (e.label = null)),
                    e
                );
            })({}, t, "", 0, this);
        },
    };
})();
AwesompleteUtil = (function () {
    function t(t) {
        var e = Array.isArray(t) ? { label: t[0], value: t[1] } : "object" == typeof t && "label" in t && "value" in t ? t : { label: t, value: t };
        return { label: e.label || e.value, value: e.value };
    }
    function e(t, e, i) {
        return y.fire(t, e, { detail: i });
    }
    function i(i, n) {
        var r,
            l,
            s,
            a,
            o = i.input,
            u = o.classList,
            p = i.utilprops,
            c = p.selected,
            h = p.convertInput.call(i, o.value),
            d = i.opened,
            m = [],
            y = i._list;
        if (((p.prepop = !1), y)) {
            for (a = 0; a < y.length; a++)
                if (
                    ((s = y[a]),
                    (r = t(i.data(s, h))),
                    0 === i.maxItems &&
                        ((r.toString = function () {
                            return "" + this.label;
                        }),
                        i.filter(r, h) && (d = !0)),
                    (l = { input: { value: "" } }),
                    i.replace.call(l, r),
                    p.convertInput.call(i, l.input.value) === h)
                ) {
                    if (c && c.value === r.value && c.label === r.label) {
                        m = [s];
                        break;
                    }
                    m.push(s);
                }
            p.prevSelected !== m &&
                (m.length > 0
                    ? n
                        ? e(o, f, m)
                        : p.changed && ((p.prevSelected = m), u.remove(g), u.add(b), e(o, v, m))
                    : n
                    ? e(o, f, [])
                    : p.changed && ((p.prevSelected = []), u.remove(b), d && o === document.activeElement ? u.remove(g) : h.length > 0 && (u.add(g), e(o, v, []))));
        }
    }
    function n(t) {
        var e = this;
        (t.type !== d && t.type !== h && "blur" != t.type) || t.target !== e.input || i(e, e.utilprops.prepop && t.type === h);
    }
    function r(t, e, i) {
        var n = t.utilprops;
        return !n.a || (!n.loadall && 0 === e.lastIndexOf(i, 0) && (0 !== e.lastIndexOf(n.a, 0) || ("number" == typeof n.limit && t._list.length >= n.limit)));
    }
    function l(t, i, n) {
        (t.list = i), (t.utilprops.a = n), e(t.input, h, n);
    }
    function s(t, e) {
        var n;
        t.utilprops.url && r(t, e, e)
            ? ((n = new XMLHttpRequest()),
              t.utilprops.ajax.call(
                  t,
                  t.utilprops.url,
                  t.utilprops.urlEnd,
                  t.utilprops.loadall ? "" : e,
                  function () {
                      var t,
                          e,
                          i = this,
                          n = i.b,
                          s = i.c,
                          a = i.queryVal,
                          o = n.utilprops.val;
                      if (200 === s.status) {
                          if (((t = JSON.parse(s.responseText)), n.utilprops.convertResponse && (t = n.utilprops.convertResponse(t)), !Array.isArray(t)))
                              if (0 === n.utilprops.limit || 1 === n.utilprops.limit)
                                  t = (function (t) {
                                      return 0 === Object.keys(t).length && t.constructor === Object;
                                  })(t)
                                      ? []
                                      : [t];
                              else
                                  for (e in t)
                                      if (Array.isArray(t[e])) {
                                          t = t[e];
                                          break;
                                      }
                          Array.isArray(t) && r(n, o, a) && l(n, t, a || n.utilprops.loadall);
                      }
                  }.bind({ b: t, c: n, queryVal: e }),
                  n
              ))
            : i(t, t.utilprops.prepop);
    }
    function a(t) {
        var i = t.input,
            n = i.classList;
        n.remove(g), n.remove(b), e(i, v, []);
    }
    function o(t, e, i) {
        return (
            (t.utilprops.prepop = i || !1), t.utilprops.val !== e && ((t.utilprops.selected = null), (t.utilprops.changed = !0), (t.utilprops.val = e), (e.length < t.minChars || 0 == e.length) && a(t), e.length >= t.minChars && s(t, e)), t
        );
    }
    function u(t) {
        return y.create("li", { innerHTML: t, "aria-selected": "false" });
    }
    function p(t, e, i) {
        var n = y.regExpEscape(e.replace("&", "&amp;").replace("<", "&lt;").replace(">", "&gt;").trim()),
            r = n.length <= 0 ? null : i ? RegExp("^" + n, "i") : RegExp("(?!<[^>]+?>)" + n + "(?![^<]*?>)", "gi");
        return t.replace(r, "<mark>$&</mark>");
    }
    var c = "awesomplete-",
        h = c + "loadcomplete",
        d = c + "close",
        v = c + "match",
        f = c + "prepop",
        m = c + "select",
        b = "awe-found",
        g = "awe-not-found",
        y = Awesomplete.$;
    return {
        ajax: function (t, e, i, n, r) {
            return (r = r || new XMLHttpRequest()).open("GET", t + encodeURIComponent(i) + (e || "")), (r.onload = n), r.send(), r;
        },
        convertInput: function (t) {
            return "string" == typeof t ? t.trim().toLowerCase() : "";
        },
        item: u,
        load: l,
        mark: p,
        itemContains: function (t, e) {
            var i;
            return e.trim().length > 0 && (((i = ("" + t).split(/<p>/))[0] = p(i[0], e)), (t = i.join("<p>"))), u(t);
        },
        itemMarkAll: function (t, e) {
            return u("" === e.trim() ? "" + t : p("" + t, e));
        },
        itemStartsWith: function (t, e) {
            return u("" === e.trim() ? "" + t : p("" + t, e, !0));
        },
        create: function (t, e, i) {
            i.item = i.item || this.itemContains;
            var n = new Awesomplete(t, i);
            return (
                (n.utilprops = e || {}),
                n.utilprops.url || void 0 !== n.utilprops.loadall || (n.utilprops.loadall = !0),
                (n.utilprops.ajax = n.utilprops.ajax || this.ajax),
                (n.utilprops.convertInput = n.utilprops.convertInput || this.convertInput),
                n
            );
        },
        attach: function (t) {
            var e = t.input,
                i = n.bind(t),
                r = function (t) {
                    t.target === this.input && 9 === t.keyCode && this.select();
                }.bind(t),
                l = function (t) {
                    var e,
                        i = this;
                    t.target === i.input && ((e = i.utilprops.convertInput.call(i, i.input.value)), o(i, e));
                }.bind(t),
                a = function (t) {
                    (this.utilprops.changed = !0), (this.utilprops.selected = t.text);
                }.bind(t),
                u = function () {
                    var t = this,
                        e = t.b.input,
                        i = t.h,
                        n = t.i,
                        r = t.j,
                        l = t.k;
                    e.removeEventListener(m, l), e.removeEventListener(h, i), e.removeEventListener(d, i), e.removeEventListener("blur", i), e.removeEventListener("input", n), e.removeEventListener("keydown", r);
                }.bind({ b: t, h: i, i: l, j: r, k: a }),
                p = { keydown: r, input: l };
            return (
                (p.blur = p[d] = p[h] = i),
                (p[m] = a),
                y.bind(e, p),
                (t.utilprops.detach = u),
                t.utilprops.prepop && (t.utilprops.loadall || e.value.length > 0) && ((t.utilprops.val = t.utilprops.convertInput.call(t, e.value)), s(t, t.utilprops.val)),
                t
            );
        },
        update: function (t, e, i) {
            return (t.input.value = e), o(t, e, i);
        },
        start: function (t, e, i) {
            return this.attach(this.create(t, e, i));
        },
        detach: function (t) {
            return t.utilprops.detach && (t.utilprops.detach(), delete t.utilprops.detach), t;
        },
        createCopyFun: function (t, e, i) {
            return function (t) {
                var e,
                    i,
                    n = this,
                    r = n.d,
                    l = n.e,
                    s = n.f;
                t.target === y(r) &&
                    ("function" == typeof s
                        ? s(t, l)
                        : (e = y(s)) &&
                          e !== document.activeElement &&
                          ((i = Array.isArray(t.detail) && 1 === t.detail.length ? t.detail[0] : null),
                          (i = (l && i ? i[l] : i) || ""),
                          void 0 !== e.value ? ((e.value = i), e.classList && e.classList.remove && e.classList.remove(g)) : void 0 !== e.src ? (e.src = i) : (e.innerHTML = i)));
            }.bind({ d: t, e: e, f: y(i) || i });
        },
        attachCopyFun: function (t, e, i) {
            return (e = "boolean" != typeof e || e), (i = i || document.body).addEventListener(v, t), e && i.addEventListener(f, t), t;
        },
        startCopy: function (t, e, i, n) {
            var r = y(t);
            return this.attachCopyFun(this.createCopyFun(r || t, e, i), n, r);
        },
        detachCopyFun: function (t, e) {
            return (e = e || document.body).removeEventListener(f, t), e.removeEventListener(v, t), t;
        },
        createClickFun: function (t, e) {
            return function (t) {
                var e, i;
                t.target === y(this.g) && (t.preventDefault(), 0 === (e = this.b).ul.childNodes.length || e.ul.hasAttribute("hidden") ? ((i = e.minChars), (e.minChars = 0), e.evaluate(), (e.minChars = i)) : e.close());
            }.bind({ g: t, b: e });
        },
        attachClickFun: function (t, e) {
            return (e = e || document.body).addEventListener("click", t), t;
        },
        startClick: function (t, e) {
            var i = y(t);
            return this.attachClickFun(this.createClickFun(i || t, e), i);
        },
        detachClickFun: function (t, e) {
            return (e = e || document.body).removeEventListener("click", t), t;
        },
        filterContains: function (t, e) {
            return Awesomplete.FILTER_CONTAINS(t.value, e);
        },
        filterStartsWith: function (t, e) {
            return Awesomplete.FILTER_STARTSWITH(t.value, e);
        },
        jsonFlatten: function (t) {
            return (function t(e, i, n, r, l) {
                var s,
                    a = l.root,
                    o = l.value,
                    u = l.label || l.value,
                    p = !0,
                    c = [];
                if (0 === r && a && n && 0 !== (n + ".").lastIndexOf(a + ".", 0) && 0 !== (a + ".").lastIndexOf(n + ".", 0)) return e;
                if (Object(i) !== i) n ? (e[n] = i) : (e = i);
                else if (Array.isArray(i)) {
                    for (s = 0; s < i.length; s++) c.push(t({}, i[s], "", r + 1, l));
                    n ? (e[n] = c) : (e = c);
                } else {
                    for (s in i) (p = !1), t(e, i[s], n ? n + "." + s : s, r, l);
                    p && n && (e[n] = {});
                }
                return (
                    r < 2 && n && (o && 0 === (n + ".").lastIndexOf(o + ".", 0) && (e.value = e[n]), u && 0 === (n + ".").lastIndexOf(u + ".", 0) && (e.label = e[n])),
                    0 === r && (!o || "value" in e || (e.value = null), !u || "label" in e || (e.label = null)),
                    e
                );
            })({}, t, "", 0, this);
        },
    };
})();
