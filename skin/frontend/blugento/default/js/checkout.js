/*! blugento-theme v1.0.0 - 2023-01-24 20:07:47 */
;var Blugento=Blugento||{};Blugento.Checkout={},function(a){a.extend(Blugento.Checkout,{setBillingAddress:function(b,c){try{a('#billing-address-select option[value="'+c+'"]').prop("selected",!0),a(b).addClass("active").siblings().removeClass("active"),a("#billing-new-address-form").hide(),a("#wrap-addNewBillingAddress").show()}catch(a){}},setShippingAddress:function(b,c){try{a('#shipping-address-select option[value="'+c+'"]').prop("selected",!0),a("#shipping-address-select").trigger("change"),a(b).addClass("active").siblings().removeClass("active"),a("#shipping-new-address-form").hide(),a("#wrap-addNewShippingAddress").show()}catch(a){}},addNewBillingAddress:function(){try{a("#listAddressBilling").children().removeClass("active"),a("#billing-address-select").val(""),a("#billing-new-address-form").show(),a("#wrap-addNewBillingAddress").hide()}catch(a){}},addNewShippingAddress:function(){try{a("#listAddressShipping").children().removeClass("active"),a("#shipping-address-select").val(""),a("#shipping-new-address-form").show(),a("#wrap-addNewShippingAddress").hide()}catch(a){}},initCards:function(){Blugento.flex(".list--address","> li");try{var b=a("#shipping-address-select").val(),c=a("#billing-address-select").val();a("#blugento-shipping-address-"+b).addClass("active").siblings().removeClass("active"),a("#blugento-billing-address-"+c).addClass("active").siblings().removeClass("active"),a(".new-address-btn").on("click",function(){a(this).addClass("active").siblings().removeClass("active"),a('#billing-address-select option[value=""]').prop("selected",!0),a("#billing-address-select").trigger("change");var b=document.getElementById("checkoutSteps");if(2==b.dataset.orientation&&1==b.dataset.layout){var c=document.getElementById("opc-billing"),d=c.getElementsByClassName("step")[0].offsetHeight,e=c.getElementsByClassName("step-title")[0].offsetHeight,f=e+d;b.setAttribute("style","min-height: "+f+"px")}}),a('input[name="shipping[same_as_billing]"]').on("change",function(){var b=a("#shipping-address-select").val();a("#blugento-shipping-address-"+b).addClass("active").siblings().removeClass("active")})}catch(a){}},initAddToCartButtons:function(){try{valMinQty=a("#qty, .col-qty .qty").attr("data-minimum"),valQty=a("#qty, .col-qty .qty").attr("data-increment"),a(".btn-update").attr("disabled",!0),a(document).on("input","#product_addtocart_form #qty, .col-qty .qty",function(){a(this).parent().find(".minimum-qty").remove(),a(this).val()<parseFloat(valMinQty)?(a("#product_addtocart_form .add-to-cart button, .btn-update").attr("disabled",!0),a(this).parent().append('<div class="validation-advice minimum-qty">'+Translator.translate("Minimum quantity allowed is")+' "'+valMinQty+'"!</div>')):(a("#product_addtocart_form .add-to-cart button, .btn-update").attr("disabled",!1),a(this).parent().find(".minimum-qty").remove())}),a(document).on("input",".qty-wrapper input",function(){var b=a(this).data("minimum");a(this).parent().find(".minimum-qty").remove(),a(this).val()<parseFloat(b)?(a(this).parent().parent().siblings().find(".btn-cart").attr("disabled",!0),a(this).parent().append('<div class="validation-advice minimum-qty">'+Translator.translate("Minimum quantity allowed is")+' "'+b+'"!</div>')):(a(this).parent().parent().siblings().find(".btn-cart").attr("disabled",!1),a(this).parent().find(".minimum-qty").remove())}),a(document).on("input onKeyPress",".qty-wrapper input, #product_addtocart_form #qty, .col-qty .qty",function(){var b=a(this).attr("data-increment").replace(/,/g,"");10*a(this).val()%(10*b)!==0?(a("#product-addtocart-button, .btn-update").css("display","none").attr("disabled",!0),a(this).parent().parent().siblings().find(".btn-cart").attr("disabled",!0),a(this).parent().append('<div class="validation-advice qty-multiple">'+Translator.translate("Input quantity is not a multiple of ")+b+" !</div>"),a(this).parent().find(".qty-multiple").length>1&&a(this).parent().find(".qty-multiple").not(":first").remove()):(a("#product-addtocart-button, .btn-update").css("display","inline-block").attr("disabled",!1),a(this).parent().parent().siblings().find(".btn-cart").attr("disabled",!1),a(this).parent().find(".qty-multiple").remove())}),a("body").on("click",".button-counter span",function(){var b=a(".product-view .product-shop .add-to-cart input").attr("data-increment")||a(this).parent().parent().find('input[name*="qty"]').data("increment"),c=a(this).parent().parent().find('input[name*="qty"]').data("minimum")||a(this).parent().parent().find("span#qty").data("minimum"),d=b?parseFloat(/(,)/g.test(b)?b.replace(/,/g,""):b):parseFloat(a(this).parent().parent().find("span#qty").data("increment")),e=a(this).parent().parent().find("span#qty"),f=a(this),g=f.parent().parent().find('input[name*="qty"]'),h=f.parent().parent().find("span#qty"),i=parseFloat(g.val()?g.val().replace(/,/g,""):h.text().replace(/,/g,"")),j=parseFloat(i);f.hasClass("plus")?(j+=d,e.text(i+1)):i>0?(j-=d,e.text(i-1)):j=0,a("#qty").hasClass("decimals")?g?g.val(j.toFixed(2)):h.text(j.toFixed(2)):j>Math.floor(j)?g?g.val(j.toFixed(2)):h.text(j.toFixed(2)):g?g.val(j):h.text(j);var k=a(this).parent().parent(),l=a(this).parents(".qty-wrapper"),m=a(this).parents("#product_addtocart_form").find("button"),n=a(this).parents(".product-actions").find(".btn-cart"),o=parseFloat(a(k).find("span").text());a(k).find(".minimum-qty").remove(),a(l).find(".minimum-qty").remove(),a(k).find("input").val()<parseFloat(c)||o<parseFloat(c)?(a(".btn-update").attr("disabled",!0),a(m).attr("disabled",!0),a(n).attr("disabled",!0),a("#product_addtocart_form, .col-qty").length?a(k).append('<div class="validation-advice minimum-qty">'+Translator.translate("Minimum quantity allowed is")+' "'+c+'"!</div>'):a(l).append('<div class="validation-advice minimum-qty">'+Translator.translate("Minimum quantity allowed is")+' "'+c+'"!</div>')):(a(".btn-update").attr("disabled",!1),a(m).attr("disabled",!1),a(n).attr("disabled",!1),a(k).find(".minimum-qty").remove(),a(l).find(".minimum-qty").remove())})}catch(a){}},init:function(){Blugento.Checkout.initCards(),Blugento.Checkout.initAddToCartButtons()}}),a(document).ready(function(){Blugento.Checkout.init()}),a(document).ajaxSuccess(function(){Blugento.Checkout.initCards()}),a(window).on("blugento.window.resize",function(){Blugento.Checkout.initCards()})}(jQuery);;
